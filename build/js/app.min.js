var game={data:{score:0},onload:function(){me.video.init(960,640,{parent:"screen",scale:"auto",scaleMethod:"flex"})?(me.audio.init("mp3,ogg"),me.loader.preload(game.resources,this.loaded.bind(this))):alert("Your browser does not support HTML5 canvas.")},loaded:function(){me.state.set(me.state.MENU,new game.TitleScreen),me.state.set(me.state.PLAY,new game.PlayScreen),me.pool.register("mainPlayer",game.PlayerEntity),me.state.change(me.state.PLAY)},resources:[]};game.PlayerEntity=me.Entity.extend({init:function(e,t,n){me.Entity.prototype.init.apply(this,[e,t,n])},update:function(e){return this.body.update(e),me.collision.check(this),me.Entity.prototype.update.apply(this,[e])||0!==this.body.vel.x||0!==this.body.vel.y},onCollision:function(e,t){return!0}}),game.HUD=game.HUD||{},game.HUD.Container=me.Container.extend({init:function(){me.Container.prototype.init.apply(this),this.isPersistent=!0,this.floating=!0,this.name="HUD",this.addChild(new game.HUD.ScoreItem(5,5))}}),game.HUD.ScoreItem=me.Renderable.extend({init:function(e,t){me.Renderable.prototype.init.apply(this,[e,t,10,10]),this.score=-1},update:function(){return this.score!==game.data.score&&(this.score=game.data.score,!0)},draw:function(e){}}),game.PlayScreen=me.Stage.extend({onResetEvent:function(){game.data.score=0,this.HUD=new game.HUD.Container,me.game.world.addChild(this.HUD)},onDestroyEvent:function(){me.game.world.removeChild(this.HUD)}}),game.TitleScreen=me.Stage.extend({onResetEvent:function(){},onDestroyEvent:function(){}});